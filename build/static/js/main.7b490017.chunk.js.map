{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","defaultInfo","name","about","avatar","_id","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onClick","onCardDelete","link","onCardClick","onCardLike","length","Main","useState","isMouseOverAvatar","setIsMouseOverAvatar","onMouseEnter","onEditAvatar","onMouseLeave","onEditProfile","onAddPlace","cards","map","item","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","children","EditProfilePopup","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","onChange","target","value","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","image","options","this","_baseUrl","baseUrl","_headers","headers","url","fetch","then","_getResponseData","method","body","JSON","stringify","console","log","res","ok","Promise","reject","status","deleteLike","addLike","json","authorization","ImagePopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","Api","getUserInfo","catch","getInitialCards","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","editUserInfo","updateAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b490017.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n    return (\n        <header className=\"header\">\n            <img className=\"logo\" src={logo} alt=\"лого\" />\n        </header>\n    )\n}\n\nexport default Header","import React from 'react';\n\nconst defaultInfo = {\n    name: '',\n    about: '',\n    avatar: '',\n    _id: ''\n}\n\nexport const CurrentUserContext = React.createContext(defaultInfo);","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    function handleLikeClick() {\n        props.onCardLike(props.card)\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card)\n    }\n\n    const isOwn = props.card.owner._id === currentUser._id;\n\n    const cardDeleteButtonClassName = (\n        `element__bin ${isOwn ? 'element__bin_active' : ''}`\n    );\n\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n    const cardLikeButtonClassName = (`element__like ${isLiked ? 'element__like_active' : ''}`);\n\n    return (\n\n        <li className=\"element\">\n            <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"удалить\" onClick={handleDeleteClick}></button>\n            <img className=\"element__image\" src={props.card.link} alt=\"\" onClick={handleClick} />\n            <div className=\"element__text-container\">\n                <h3 className=\"element__title\">{props.card.name}</h3>\n                <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"нравится\" onClick={handleLikeClick} >{props.card.likes.length}</button>\n            </div>\n        </li>\n    )\n}\n\nexport default Card","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main(props) {\n\n    const [isMouseOverAvatar, setIsMouseOverAvatar] = React.useState(false)\n    const currentUser = React.useContext(CurrentUserContext);\n\n\n    function handleMouseEnter() {\n        setIsMouseOverAvatar(true);\n    }\n\n    function handleMouseLeave() {\n        setIsMouseOverAvatar(false);\n    }\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile-info\">\n                    <img className=\"profile-info__avatar\" src={currentUser.avatar} alt=\"аватарка\" onMouseEnter={handleMouseEnter} />\n                    <button className={`profile-info__edit-avatar ${isMouseOverAvatar ? 'profile-info__edit-avatar_active' : ''}`} type=\"button\" aria-label=\"редактировать\" onClick={props.onEditAvatar} onMouseLeave={handleMouseLeave}></button>\n                    <div className=\"profile-info__info\">\n                        <h1 className=\"profile-info__name\">{currentUser.name}</h1>\n                        <p className=\"profile-info__about\">{currentUser.about}</p>\n                    </div>\n                    <button className=\"profile-info__edit-button\" type=\"button\" aria-label=\"редактировать\" onClick={props.onEditProfile}></button>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" aria-label=\"добавить\" onClick={props.onAddPlace}></button>\n            </section>\n            <section className=\"photo-grid\">\n                <ul className=\"photo-grid__list\">\n                    {\n                        props.cards.map((item) => {\n                            return (\n\n                                <Card key={item._id} card={item} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n                            )\n\n                        })\n                    }\n                </ul>\n            </section>\n        </main>\n    )\n\n}\n\nexport default Main","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n    return (\n\n        <div className={`pop-up ${props.isOpen ? 'pop-up_opened' : ''} pop-up_type_${props.name}`} >\n            <div className=\"pop-up__container\">\n                <button className=\"pop-up__close-button\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\n                <h3 className=\"pop-up__title\">{props.title}</h3>\n                <form className=\"pop-up__admin\" name={props.name} onSubmit={props.onSubmit} /*noValidate*/>\n                    {props.children}\n                    <button type=\"submit\" className=\"pop-up__submit-button\">Сохранить</button>\n                </form>\n            </div>\n        </div>\n\n    )\n}\n\n\nexport default PopupWithForm","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value)\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    React.useEffect(() => {\n        setName(currentUser ? currentUser.name : '');\n        setDescription(currentUser ? currentUser.about : '');\n    }, [currentUser, props.isOpen]);\n\n    return (\n        <PopupWithForm title=\"Редактировать профиль\" name=\"edit\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <div className=\"pop-up__input-container\">\n                <input type=\"text\" className=\"pop-up__item\" id=\"name\" name=\"name\" placeholder=\"Имя\" minLength=\"2\"\n                    maxLength=\"40\" required onChange={handleChangeName} value={name || ''} />\n                <span className=\"pop-up__error\" id=\"name-error\"></span>\n                <input type=\"text\" className=\"pop-up__item\" id=\"about\" name=\"about\" placeholder=\"О себе\"\n                    minLength=\"2\" maxLength=\"200\" required onChange={handleChangeDescription}  value={description || ''}\n                    />\n                <span className=\"pop-up__error\" id=\"about-error\"></span>\n            </div>\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditProfilePopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n\n    const avatar = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: avatar.current.value,\n        });\n    }\n\n    return (\n        <PopupWithForm title=\"Обновить аватар\" name=\"edit-avatar\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\n            <div className=\"pop-up__input-container\">\n                <input type=\"url\" className=\"pop-up__item\" id=\"avatar-image\" name=\"about\" placeholder=\"Ссылка на картинку\"\n                    required ref={avatar} />\n                <span className=\"pop-up__error\" id=\"avatar-image-error\"></span>\n            </div> </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction AddPlacePopup(props) {\n\n    const name = React.useRef(0);\n    const image = React.useRef(1);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n       props.onAddPlace({\n        name: name.current.value,\n        link: image.current.value\n\n    })\n    }\n    \n    return (\n        <PopupWithForm title=\"Новое место\" name=\"add-element\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <div className=\"pop-up__input-container\">\n                <input type=\"text\" className=\"pop-up__item\" id=\"cardname\" name=\"name\" placeholder=\"Название\"\n                    minLength=\"2\" maxLength=\"200\" required ref={name} />\n                <span className=\"pop-up__error\" id=\"cardname-error\"></span>\n                <input type=\"url\" className=\"pop-up__item\" id=\"image\" name=\"about\" placeholder=\"Ссылка на картинку\"\n                    required ref={image} />\n                <span className=\"pop-up__error\" id=\"image-error\"></span>\n            </div></PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup","class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl\n        this._headers = options.headers\n    }\n\n    // User\n\n    getUserInfo() {\n        const url = `${this._baseUrl}/users/me`\n        return fetch(url, {\n                headers: this._headers\n            })\n            .then(this._getResponseData);\n\n    }\n\n    editUserInfo({\n        name,\n        about\n    }) {\n        const url = `${this._baseUrl}/users/me`\n        return fetch(url, {\n                method: 'PATCH',\n                headers: this._headers,\n\n                body: JSON.stringify({\n                    name: name,\n                    about: about\n                })\n            })\n            .then(this._getResponseData);\n\n    }\n\n    updateAvatar(link) {\n        const url = `${this._baseUrl}/users/me/avatar`\n        console.log(link)\n        return fetch(url, {\n                method: 'PATCH',\n                headers: this._headers,\n\n                body: JSON.stringify({\n                    avatar: link.avatar,\n                })\n            })\n            .then(this._getResponseData);\n\n    }\n\n    // Cards\n\n    getInitialCards() {\n        const url = `${this._baseUrl}/cards`\n        return fetch(url, {\n                headers: this._headers\n            })\n            .then(this._getResponseData);\n\n    }\n\n    addNewCard({\n        name,\n        link\n    }) {\n        const url = `${this._baseUrl}/cards`\n        return fetch(url, {\n                method: 'POST',\n                headers: this._headers,\n                body: JSON.stringify({\n                    name: name,\n                    link: link\n                })\n            })\n            .then(this._getResponseData);\n    }\n\n    deleteCard(id) {\n        const url = `${this._baseUrl}/cards/${id}`\n        return fetch(url, {\n                method: 'DELETE',\n                headers: this._headers,\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res;\n                }\n                return Promise.reject(`Ошибка: ${res.status}`);\n            });\n    }\n    changeLikeCardStatus(id, isLiked) {\n        if (isLiked) {\n            return this.deleteLike(id)\n        } else {\n            return this.addLike(id)\n        }\n    }\n\n\n    addLike(id) {\n        const url = `${this._baseUrl}/cards/likes/${id}`\n        return fetch(url, {\n                method: 'PUT',\n                headers: this._headers,\n            })\n            .then(this._getResponseData);\n    }\n\n    deleteLike(id) {\n        const url = `${this._baseUrl}/cards/likes/${id}`\n        return fetch(url, {\n                method: 'DELETE',\n                headers: this._headers,\n            })\n            .then(this._getResponseData);\n    }\n\n    _getResponseData(res) {\n        if (!res.ok) {\n            return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n    }\n\n}\n\nexport default new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n    headers: {\n        authorization: '8e2b4449-94a0-4beb-aa9f-18ee80fa9c26',\n        'Content-Type': 'application/json'\n    }\n});","import React from 'react';\n\nfunction ImagePopup(props) {\n\n\n    return (\n        <div className={`pop-up pop-up_type_image ${props.card ? 'pop-up_opened' : ''}`}>\n            <div className=\"pop-up__container pop-up__container_type_image\">\n                <button className=\"pop-up__close-button\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\n                <figure className=\"pop-up__figure\">\n                    <img src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : '#'} className=\"pop-up__image\" />\n                    <figcaption className=\"pop-up__image-caption\">{props.card ? props.card.name : '#'}</figcaption>\n                </figure>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n// import PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Api from '../utils/api';\n\nimport '../index.css'\nimport ImagePopup from './ImagePopup';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState();\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([])\n\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setSelectedCard()\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function handleUpdateUser(name, about) {\n        Api.editUserInfo(name, about)\n            .then(res => {\n                setCurrentUser(res)\n            })\n            .then(closeAllPopups)\n            .catch(() => console.log('error'))       \n    }\n\n    function handleUpdateAvatar(link) {\n        Api.updateAvatar(link)\n            .then(res => {\n                setCurrentUser(res)\n            })\n            .then(closeAllPopups)\n            .catch(() => console.log('error'))\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        Api.changeLikeCardStatus(card._id, isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch(() => console.log('error'))         \n    }\n\n    function handleCardDelete(card) {\n        Api.deleteCard(card._id)\n            .then((newCard) => setCards((cards) => cards.filter((c) => {\n                if (c._id !== card._id) return newCard\n            })))\n            .catch(() => console.log('error'))         \n    }\n\n    function handleAddPlaceSubmit(name, link) {\n        Api.addNewCard(name, link)\n            .then(newCard => {\n                setCards([newCard, ...cards])\n            })\n            .then(closeAllPopups)\n            .catch(() => console.log('error'))\n    }\n\n    React.useEffect(() => {\n        Api.getUserInfo()\n            .then(res => {\n                setCurrentUser(res)\n            })\n            .catch(() => console.log('error'))\n    }, [])\n\n    React.useEffect(() => {\n        Api.getInitialCards()\n            .then(res => {\n                setCards(res)\n            })\n            .catch(() => console.log('error'))\n    }, []\n\n    )\n\n    return (\n        <div className=\"page__container\">\n            <CurrentUserContext.Provider value={currentUser}>\n                <Header />\n                <Main\n                    onEditAvatar={handleEditAvatarClick}\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onCardClick={handleCardClick}\n                    cards={cards}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                />\n                <Footer />\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n                {/* <PopupWithForm title=\"Вы уверены?\" name=\"remove-card\">\n                    <div className=\"pop-up__container\">\n                        <button className=\"pop-up__close-button\" type=\"button\" aria-label=\"закрыть\"></button>\n                        <h3 className=\" pop-up__title\">Вы уверены?</h3>\n                        <button type=\"button\" className=\"pop-up__submit-button\">Да</button>\n                    </div></PopupWithForm> */}\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n            </CurrentUserContext.Provider>\n        </div>\n\n    );\n}\n\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}